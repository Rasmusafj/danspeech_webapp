<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>

    {% load static %}

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Kings of DTU">
    <title>DanSpeech | Recording App</title>

    <!-- Front end utils -->
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
    <link rel="stylesheet" href="{% static 'normalize.css' %}">
    <link rel="stylesheet" href="{% static 'milligram.min.css' %}">
    <link rel="stylesheet" href="{% static 'main.css' %}">

    <!-- Recording utils -->
    <link rel="stylesheet" href="{% static 'video-js.min.css' %}" />
    <link rel="stylesheet" href="{% static 'videojs.wavesurfer.css' %}" />
    <link rel="stylesheet" href="{% static 'videojs.record.min.css' %}">

    <script src="{% static 'video.min.js' %}"></script>
    <script src="{% static 'recordRTC.min.js' %}"></script>
    <script src="{% static 'adapter-latest.js' %}"></script>
    <script src="{% static 'wavesurfer.min.js' %}"></script>
    <script src="{% static 'wavesurfer.microphone.min.js' %}"></script>
    <script src="{% static 'videojs.wavesurfer.min.js' %}"></script>
    <script src="{% static 'safari-workaround.js' %}"></script>

    <script src="{% static 'videojs.record.min.js' %}"></script>

    <style>
    input[type="checkbox"]{
        width: 16px; /*Desired width*/
        height: 16px; /*Desired height*/
    }
    /* The Modal (background) */
    .modal {
      display: none; /* Hidden by default */
      position: fixed; /* Stay in place */
      z-index: 9999; /* Sit on top */
      padding-top: 100px; /* Location of the box */
      left: 0;
      top: 0;
      width: 100%; /* Full width */
      height: 100%; /* Full height */
      overflow: auto; /* Enable scroll if needed */
      background-color: rgb(0,0,0); /* Fallback color */
      background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    /* Modal Content */
    .modal-content {
      background-color: #fefefe;
      margin: auto;
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
    }

    /* The Close Button */
    .close {
      color: #aaaaaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }

    .close:hover,
    .close:focus {
      color: #000;
      text-decoration: none;
      cursor: pointer;
    }
    /* change player background color */
    #myAudio {
      background-color: #FFEEFF;
    }

    .center {
    margin-left: auto;
    margin-right: auto;
    display: block
    }
    </style>

</head>
<body>
    <main class="wrapper">
        <nav class="navigation" style="z-index: 999">
				<section class="container">
					<a class="navigation-title" href="#home">
						<h1 class="title">DanSpeech</h1>
					</a>
					<ul class="navigation-list float-right">
                        <li class="navigation-item">
							<a class="navigation-link" href="/" data-popover>Home</a>
						</li>
						<li class="navigation-item">
							<a class="navigation-link" href="#info" data-popover>Info</a>
						</li>
						<li class="navigation-item">
							<a class="navigation-link" href="#kontakt" data-popover>Kontakt</a>
						</li>
					</ul>
				</section>
			</nav>
        <header class="header" id="home">
            <section class="container">
                <h1>
                    DanSpeech
                </h1>
                <p class="description">
                    I forbindelse med et Kandidat speciale på Danmarks Tekniske Universitet forsøger vi at lave et
                    open-source toolkit til dansk talegenkendelse (DanSpeech). Vi har brug
                    for din hjælp til at indsamle et eksternt datasæt, der skal bruges til at evaluere DanSpeech.
                    Det tager ikke lang tid at bidrage, og du får mulighed for at hjælpe et spændende projekt på vej.
                </p>

                <a href="/" class="button">Bidrag</a>

            </section>

        </header>
        <section class="container" id="recording">
            <h1>
                Demo
            </h1>

            Turbo <input id="turbo" type="checkbox"> <br>

            <p id="tekst-beskrivelse">
                <b>Vælg en configuration</b>
            </p>


            <div class="container">
                <form action="update_config/" method="post">
                    {% csrf_token %}
                    <div class="row">
                        <div class="column column-20">
                            <p>Model:</p>
                        </div>
                        <div class="column column-50">
                        <select name="model_choice">
                            <option value="0">DanSpeech</option>
                            <option value="1">Baseline (no augmentations)</option>
                            <option value="2">Baseline (augmentations)</option>
                            <option value="3">1 convolutional layer</option>
                            <option value="4">3 convolutional layers (32 filters)</option>
                            <option value="5">3 convolutional layers (96 filters)</option>
                            <option value="6">3 RNNs</option>
                            <option value="7">7 RNNs</option>
                            <option value="8">9 RNNs</option>
                            <option value="9">400 hidden units</option>
                            <option value="10">1200 hidden units</option>
                            <option value="11">1600 hidden units</option>
                            <option value="12">Transfer learning - 0 frozen layers</option>
                            <option value="13">Transfer learning - 3 frozen layers</option>
                            <option value="14">Pooled data model</option>
                            <option value="15">English speech recognition</option>
                        </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="column column-20">
                            <p>Language model:</p>
                        </div>
                        <div class="column column-50">
                        <select name="language_model">
                            <option value="0">DSL 3-gram</option>
                            <option value="1">DSL 5-gram</option>
                            <option value="16">Greedy decoding</option>
                            <option value="2">Wiki 3-gram</option>
                            <option value="3">Wiki 5-gram</option>
                            <option value="4">Leipzig 3-gram</option>
                            <option value="5">Leipzig 5-gram</option>
                            <option value="6">DSL + Wiki 3-gram</option>
                            <option value="7">DSL + Wiki 5-gram</option>
                            <option value="8">DSL + Leipzig 3-gram</option>
                            <option value="9">DSL + Leipzig 5-gram</option>
                            <option value="10">Wiki + Leipzig 3-gram</option>
                            <option value="11">Wiki + Leipzig 5-gram</option>
                            <option value="12">Combined corpora 3-gram</option>
                            <option value="13">Combined corpora 5-gram</option>
                            <option value="14">LibriSpeech 3-gram</option>
                            <option value="15">LibriSpeech 4-gram</option>
                        </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="column column-20">
                            <p>Alpha:</p>
                        </div>
                        <div class="column column-40">
                            <input name="alpha" style="width: 100%;" type="range" min="0" max="3" step="0.05" value="1"
                                   class="slider" id="myRangeAlpha" oninput="changeInputValueAlpha(this.value)">
                        </div>
                        <div class="column-10">
                            <input type="number" id="numberAlpha" min="0" max="3" step="0.05" value="1.0" onkeyup="changeRangeValueAlpha(this.value)"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="column column-20">
                            <p>Beta:</p>
                        </div>
                        <div class="column column-40">
                            <input name="beta" style="width: 100%;" type="range" min="0" max="3" step="0.05" value="1"
                                   class="slider" id="myRangeBeta" oninput="changeInputValueBeta(this.value)">
                        </div>
                        <div class="column-10">
                            <input type="number" id="numberBeta" min="0" max="3" step="0.05" value="1.0" onkeyup="changeRangeValueBeta(this.value)"/>
                        </div>
                    </div>
                    <div class="row">
                        <button type="submit"> Opdater konfiguration</button>
                    </div>
                </form>
            </div>

            <audio id="myAudio" class="video-js vjs-default-skin center"></audio>
            </br>
            <button id="record-button" class="button">Optag</button>
            <input id="submitAudio" class="button" type="submit" value="Transskriber">
            <input id="google" class="button" type="submit" value="Google system">

            <p>Output</p>
            <blockquote>
                <p>
                    <strong id="transcription" class="center">

                    </strong>
                </p>
            </blockquote>
        </section>
        <section class="container" id="info">
            <h1 class="">
                Info
            </h1>
            <p>
                I vores Kandidat speciale på Danmarks Tekniske Universitet forsøger vi at lave et open-source toolkit til dansk talegenkendelse (DanSpeech). Mere
                specifikt, så er vi interesset i at DanSpeech skal kunne oversætte tale til tekst.
                DanSpeech skal være tilgængeligt for alle. Om det skal bruges i forbindelse med en virksomheds kommercielle
                produkter, diverse fritidsprojekter eller til undervisning er underordnet. Vi vil bare gerne sørge for at dansk
                tale genkendelse er tilgængeligt for dem der har lyst til at bruge det.
            </p>
            <p>
                Talegenkendelse er generelt set et svært problem, og selve præcisionen er meget afhængig af forskellige
                faktorer heriblandt mikrofonens kvalitet, personen og dialekt. For at vurdere DanSpeech i forbindelse med
                en stor variation af bl.a. ovenstående faktorer, så er vi interesseret i at indsamle et unikt datasæt
                bestående af mange forskellige personer og sætninger.
            </p>
            <p>
                Er du interesseret i at hjælpe? Så skal du bare optage sætningen der er givet i ovenstående sektion og
                indsende den til vores server. Det er rimelig simpelt og hurtigt, så hvis du har mod på det, er du velkommen
                til at indtaste flere sætninger.
            </p>

        </section>
        <section class="container" id="kontakt">
            <h1 class="">
                Kontakt
            </h1>
            <p>
                Er du interesseret i at høre mere om projektet? Eller har du spørgsmål til indsamlingen af data? Så kan du kontakte os på en af følgende emails.
            </p>
            <p>
                <i>Rasmus Arpe Fogh Jensen</i>  </br> <a href = "mailto: s134843@student.dtu.dk">s134843@student.dtu.dk</a>
            </p>
            <p>
                <i>Martin Carsten Nielsen</i> </br> <a href = "mailto: s123106@student.dtu.dk  ">s123106@student.dtu.dk</a>
            </p>
             <div class="row">
                <div class="column">
                    <p>

                    </p>
                    <p>

                    </p>
                </div>
                <div class="column"></div>
                <div class="column"></div>

            </div>
        </section>

    </main>

    <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>

    <script>
        {% include 'demo.js' %}
    </script>
</body>
</html>